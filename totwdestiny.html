<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Destiny Totw</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Tourney:ital,wght@1,100&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Top Buttons -->
    <div class="top-buttons">
        <a href="index.html"><button class="top-left-button">HOME</button></a>
        <a href="latest.html"><button class="top-left-button">LATEST</button></a>
        <a href="totwdestiny.html"><button class="top-right-button">EXPLORE</button></a>
    </div>
    

    <!-- Album Title 
    <div class="album-title-container">
        <img src="assets/album/title.png" alt="Destiny Totw" class="album-title">
    </div>

    <div class="album-cover-container">
        <iframe allow="autoplay *; encrypted-media *; fullscreen *; clipboard-write" frameborder="0" height="450" style="width:80%;overflow:hidden;border-radius:10px;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/qa/album/top-of-the-world-destiny/1800838941"></iframe>
    </div>

    <div class="album-cover-container">
        <iframe style="border-radius:12px" src="https://open.spotify.com/embed/album/74M2Cv4hbCsuxvKYDLWeoV?utm_source=generator" width="80%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
    </div> -->

    <div class="album-carousel">
        <button class="nav-btn left" onclick="prevAlbum()">&#9664;</button>

        <div class="album-container">
            <img
                id="albumImage"
                class="album-image"
                src=""
                alt="Album Cover"
                onclick="openAlbum()"
            />
            <h3 id="albumTitle" class="album-title-text"></h3>
        </div>

        <button class="nav-btn right" onclick="nextAlbum()">&#9654;</button>
    </div>
    <script>
        // Toggle the menu (fade in/out)
        function toggleMenu() {
            const menu = document.getElementById('menu');
            menu.classList.toggle('active'); // Toggle visibility and opacity
        }

        const albums = [
            {
            title: "THROWBACK - Single",
            image: "assets/albumcovers/tb.webp",
            link: "https://open.spotify.com/album/164akCpmq6HMOQIJDoTrdo?si=CaGvQ2H_SMGg6prbAcf9yg"
            },
            {
            title: "Top of the World: Destiny - Album",
            image: "assets/albumcovers/totwd.webp",
            link: "https://open.spotify.com/album/74M2Cv4hbCsuxvKYDLWeoV?si=H-649NCtT6OrnZFvLCVREg"
            },
            {
            title: "The Switch Up - EP",
            image: "assets/albumcovers/tsu.webp",
            link: "https://open.spotify.com/album/5XVcbZZRPOmDCKdBzMIiZ2?si=CXlXgEHyQ0-LHGzpKO_nVw"
            },
            {
            title: "WHERE I START - Single",
            image: "assets/albumcovers/wis.webp",
            link: "https://open.spotify.com/album/3KMBriim9j2RKSibYNbeF3?si=U5XfogjaQSeZuMD-Jr6-lA"
            }

        ];

        let currentIndex = 0;

        const albumImage = document.getElementById("albumImage");
        const albumTitle = document.getElementById("albumTitle");

        function renderAlbum(nextIndex = currentIndex, direction = "right") {
            // Animate out
            albumImage.style.transform = `translateX(${direction === "right" ? 100 : -100}%)`;
            albumImage.style.opacity = 0;

            setTimeout(() => {
                currentIndex = nextIndex;
                albumImage.src = albums[currentIndex].image;
                albumTitle.textContent = albums[currentIndex].title;

                // Animate in
                albumImage.style.transform = `translateX(${direction === "right" ? -100 : 100}%)`;
                albumImage.style.opacity = 0;

                setTimeout(() => {
                    albumImage.style.transform = "translateX(0)";
                    albumImage.style.opacity = 1;
                }, 50);
            }, 300);
        }

        function nextAlbum() {
            const nextIndex = (currentIndex + 1) % albums.length;
            renderAlbum(nextIndex, "right");
        }

        function prevAlbum() {
            const nextIndex = (currentIndex - 1 + albums.length) % albums.length;
            renderAlbum(nextIndex, "left");
        }

        function openAlbum() {
            window.open(albums[currentIndex].link, "_blank");
        }

        renderAlbum();
    </script>


</body>
</html>
